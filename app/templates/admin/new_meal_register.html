{% extends "admin/base.html" %}

{% block page_css %}
<link rel="stylesheet" href="{{ css_root }}/new_meal_register.css">
{% endblock %}

{% block content %}
<h2>新規メニュー登録</h2>

<p class="description-text">
  アレルギー表に新しく登場したメニューが以下に一覧表示されています。<br>
  一か月メニューPDFを確認し、正式名称を入力してください。
</p>

{% if new_meal_ids|length == 0 %}
<div class="info-message">
  現在、登録が必要な新規メニューはありません。
</div>

{% else %}

<div class="table-container">
  <table class="new-meal-table">
    <thead>
      <tr>
        <th class="col-id">ID</th>
        <th>正式名称（必須）</th>
        <th>ふりがな</th>
        <th>栄養価（任意）</th>
      </tr>
    </thead>

    <tbody id="new-meal-rows">
      {% for mid in new_meal_ids %}
      <tr data-meal-id="{{ mid }}">
        <td class="meal-id">{{ mid }}</td>

        <td>
          <input type="text" class="input-field meal-name" placeholder="例：鶏肉の照り焼き" required>
        </td>

        <td>
          <input type="text" class="input-field furigana" placeholder="例：とりにくのてりやき">
        </td>

        <td>
          <div class="nutrition-group">
            <label>kcal</label>
            <input type="number" step="0.1" class="input-field-small kcal">

            <label>タンパク質</label>
            <input type="number" step="0.1" class="input-field-small protein">

            <label>脂質</label>
            <input type="number" step="0.1" class="input-field-small fat">

            <label>炭水化物</label>
            <input type="number" step="0.1" class="input-field-small carb">

            <label>塩分</label>
            <input type="number" step="0.1" class="input-field-small salt">
          </div>
        </td>

      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="action-area">
  <button id="register-submit" class="primary-button">
    登録する
  </button>
</div>

{% endif %}
{% endblock %}

{% block page_js %}
<script src="{{ js_root }}/new_meal_register.js"></script>
{% endblock %}